# MessageService

**Service Name:** `messageService`

**Access Control:** JSON ACL (default)

**Entry-level ACL:** Enabled

---

## Methods

### postMessage

- **Access Level:** `Read`
- **Socket Event:** `messageService:postMessage`
- **Validation:** Zod schema (`postMessageSchema`)

**Payload Schema:**

```typescript
{
  chatId: z.string().cuid("Invalid chat ID"),
  content: z.string().min(1, "Content is required").max(10000, "Content must be 10000 characters or less"),
  role: z.enum(["user", "assistant", "system"]).optional(),
}
```

### listMessages

- **Access Level:** `Read`
- **Socket Event:** `messageService:listMessages`
- **Validation:** Zod schema (`listMessagesSchema`)

**Payload Schema:**

```typescript
{
  chatId: z.string().cuid("Invalid chat ID"),
  limit: z.number().int().min(1).max(100).optional(),
  before: z.string().cuid().optional(),
}
```

### deleteMessage

- **Access Level:** `Admin`
- **Socket Event:** `messageService:deleteMessage`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`deleteMessageSchema`)

**Payload Schema:**

```typescript
{
  id: z.string().cuid("Invalid message ID"),
}
```

---

## Access Levels

| Level | Description |
|-------|-------------|
| Public | No authentication required |
| Read | Authenticated users can read |
| Moderate | Can edit content, manage members |
| Admin | Full control, can delete |

---

*Generated by `scripts/generate-docs.ts`*
