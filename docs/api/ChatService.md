# ChatService

**Service Name:** `chatService`

**Access Control:** Custom (self-access pattern)

**Entry-level ACL:** Enabled

---

## Methods

### createChat

- **Access Level:** `Read`
- **Socket Event:** `chatService:createChat`
- **Validation:** Zod schema (`createChatSchema`)

**Payload Schema:**

```typescript
{
  title: z.string().min(1, "Title is required").max(100, "Title must be 100 characters or less"),
  members: z.array(z.object({
  userId: z.string().cuid("Invalid user ID"),
  level: z.enum(["Read", "Moderate", "Admin"]),
  })).optional(),
}
```

### updateTitle

- **Access Level:** `Moderate`
- **Socket Event:** `chatService:updateTitle`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`updateTitleSchema`)

**Payload Schema:**

```typescript
{
  id: z.string().cuid("Invalid chat ID"),
  title: z.string().min(1, "Title is required").max(100, "Title must be 100 characters or less"),
}
```

### getChatMembers

- **Access Level:** `Read`
- **Socket Event:** `chatService:getChatMembers`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`getChatMembersSchema`)

**Payload Schema:**

```typescript
{
  chatId: z.string().cuid("Invalid chat ID"),
}
```

### inviteUser

- **Access Level:** `Moderate`
- **Socket Event:** `chatService:inviteUser`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`inviteUserSchema`)

**Payload Schema:**

```typescript
{
  id: z.string().cuid("Invalid chat ID"),
  userId: z.string().cuid("Invalid user ID"),
  level: z.enum(["Read", "Moderate", "Admin"]),
}
```

### inviteByName

- **Access Level:** `Moderate`
- **Socket Event:** `chatService:inviteByName`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`inviteByNameSchema`)

**Payload Schema:**

```typescript
{
  chatId: z.string().cuid("Invalid chat ID"),
  userName: z.string().min(1, "Username is required"),
  level: z.enum(["Read", "Moderate", "Admin"]),
}
```

### removeUser

- **Access Level:** `Moderate`
- **Socket Event:** `chatService:removeUser`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`removeUserSchema`)

**Payload Schema:**

```typescript
{
  id: z.string().cuid("Invalid chat ID"),
  userId: z.string().cuid("Invalid user ID"),
}
```

### leaveChat

- **Access Level:** `Read`
- **Socket Event:** `chatService:leaveChat`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`leaveSchema`)

**Payload Schema:**

```typescript
{
  id: z.string().cuid("Invalid chat ID"),
}
```

### listMyChats

- **Access Level:** `Read`
- **Socket Event:** `chatService:listMyChats`
- **Validation:** Zod schema (`listMyChatsSchema`)

**Payload Schema:**

```typescript
{
  page: z.number().int().min(1).optional(),
  pageSize: z.number().int().min(1).max(100).optional(),
}
```

### deleteChat

- **Access Level:** `Admin`
- **Socket Event:** `chatService:deleteChat`
- **Entry-scoped:** Yes (requires access to specific entry)
- **Validation:** Zod schema (`deleteChatSchema`)

**Payload Schema:**

```typescript
{
  id: z.string().cuid("Invalid chat ID"),
}
```

---

## Access Levels

| Level | Description |
|-------|-------------|
| Public | No authentication required |
| Read | Authenticated users can read |
| Moderate | Can edit content, manage members |
| Admin | Full control, can delete |

---

*Generated by `scripts/generate-docs.ts`*
